<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>
<configuration xmlns:xi="http://www.w3.org/2001/XInclude">
	<property>
		<name>xasecure.audit.is.enabled</name>
		<value>true</value>
	</property>	

	<property>
		<name>xasecure.audit.repository.name</name>
		<value>hadoopdev</value>
	</property>	


	<!-- DB audit provider configuration -->
	<property>
		<name>xasecure.audit.db.is.enabled</name>
		<value>true</value>
	</property>	

	<property>
		<name>xasecure.audit.db.is.async</name>
		<value>false</value>
	</property>	

	<property>
		<name>xasecure.audit.db.async.max.queue.size</name>
		<value>10240</value>
	</property>	

	<property>
		<name>xasecure.audit.db.async.resume.queue.size</name>
		<value>8192</value>
	</property>	

	<property>
		<name>xasecure.audit.db.async.max.flush.interval.ms</name>
		<value>30000</value>
	</property>	

	<property>
		<name>xasecure.audit.db.batch.size</name>
		<value>100</value>
	</property>	

	<!--  Properties whose name begin with "xasecure.audit.jpa." are used to configure JPA -->
	<property>
		<name>xasecure.audit.jpa.javax.persistence.jdbc.url</name>
		<value>jdbc:mysql://localhost:3306/xa_db</value>
	</property>

	<property>
		<name>xasecure.audit.jpa.javax.persistence.jdbc.user</name>
		<value>xaaudit</value>
	</property>

	<property>
		<name>xasecure.audit.jpa.javax.persistence.jdbc.password</name>
		<value>none</value>
	</property>

	<property>
		<name>xasecure.audit.jpa.javax.persistence.jdbc.driver</name>
		<value>com.mysql.jdbc.Driver</value>
	</property>
	
	<property>
		<name>xasecure.audit.credential.provider.file</name>
		<value>jceks://file/etc/xasecure/conf/auditcred.jceks</value>
	</property>


	<!-- HDFS audit provider configuration -->
	<property>
		<name>xasecure.audit.hdfs.is.enabled</name>
		<value>true</value>
	</property>	

	<property>
		<name>xasecure.audit.hdfs.config.encoding</name>
		<value></value>
	</property>	

	<property>
		<name>xasecure.audit.hdfs.config.destination.directroy</name>
		<value>hdfs://%hostname%:8020/xasecure/audit/%app-type%/%time:yyyyMMdd%</value>
	</property>	

	<property>
		<name>xasecure.audit.hdfs.config.destination.file</name>
		<value>%hostname%-audit.log</value>
	</property>	

	<property>
		<name>xasecure.audit.hdfs.config.destination.flush.interval.seconds</name>
		<value>900</value>
	</property>	

	<property>
		<name>xasecure.audit.hdfs.config.destination.rollover.interval.seconds</name>
		<value>86400</value>
	</property>	

	<property>
		<name>xasecure.audit.hdfs.config.destination.open.retry.interval.seconds</name>
		<value>60</value>
	</property>

	<property>
		<name>xasecure.audit.hdfs.config.local.buffer.directroy</name>
		<value>/var/log/hadoop/audit/%app-type%</value>
	</property>	

	<property>
		<name>xasecure.audit.hdfs.config.local.buffer.file</name>
		<value>%time:yyyyMMdd-HHmm.ss%.log</value>
	</property>	

	<property>
		<name>xasecure.audit.hdfs.config.local.buffer.flush.interval.seconds</name>
		<value>60</value>
	</property>	

	<property>
		<name>xasecure.audit.hdfs.config.local.buffer.rollover.interval.seconds</name>
		<value>600</value>
	</property>	

	<property>
		<name>xasecure.audit.hdfs.config.local.archive.directroy</name>
		<value>/var/log/hadoop/audit/archive/%app-type%</value>
	</property>	

	<property>
		<name>xasecure.audit.hdfs.config.local.archive.max.file.count</name>
		<value>10</value>
	</property>	

	<!-- Log4j audit provider configuration -->
	<property>
		<name>xasecure.audit.log4j.is.enabled</name>
		<value>false</value>
	</property>	

	<property>
		<name>xasecure.audit.log4j.is.async</name>
		<value>false</value>
	</property>	

	<property>
		<name>xasecure.audit.log4j.async.max.queue.size</name>
		<value>10240</value>
	</property>	

	<property>
		<name>xasecure.audit.log4j.async.resume.queue.size</name>
		<value>8192</value>
	</property>	

	<property>
		<name>xasecure.audit.log4j.async.max.flush.interval.ms</name>
		<value>30000</value>
	</property>	
	
</configuration>
